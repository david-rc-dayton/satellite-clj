<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>satellite-clj.coordinates documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Satellite-clj 0.0.1-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>satellite-clj</span></div></div></li><li class="depth-2 branch"><a href="satellite-clj.collision.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>collision</span></div></a></li><li class="depth-2 branch current"><a href="satellite-clj.coordinates.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>coordinates</span></div></a></li><li class="depth-2 branch"><a href="satellite-clj.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="satellite-clj.coverage.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>coverage</span></div></a></li><li class="depth-2 branch"><a href="satellite-clj.ephemeris.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ephemeris</span></div></a></li><li class="depth-2 branch"><a href="satellite-clj.graphics.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>graphics</span></div></a></li><li class="depth-2 branch"><a href="satellite-clj.maneuver.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>maneuver</span></div></a></li><li class="depth-2 branch"><a href="satellite-clj.math.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>math</span></div></a></li><li class="depth-2 branch"><a href="satellite-clj.orbit.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>orbit</span></div></a></li><li class="depth-2 branch"><a href="satellite-clj.properties.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>properties</span></div></a></li><li class="depth-2 branch"><a href="satellite-clj.surface.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>surface</span></div></a></li><li class="depth-2"><a href="satellite-clj.time.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>time</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="satellite-clj.coordinates.html#var-ecef-.3Eeci"><div class="inner"><span>ecef-&gt;eci</span></div></a></li><li class="depth-1"><a href="satellite-clj.coordinates.html#var-ecef-.3Egeodetic"><div class="inner"><span>ecef-&gt;geodetic</span></div></a></li><li class="depth-1"><a href="satellite-clj.coordinates.html#var-eci-.3Eecef"><div class="inner"><span>eci-&gt;ecef</span></div></a></li><li class="depth-1"><a href="satellite-clj.coordinates.html#var-geodetic-.3Eecef"><div class="inner"><span>geodetic-&gt;ecef</span></div></a></li><li class="depth-1"><a href="satellite-clj.coordinates.html#var-geodetic-radius"><div class="inner"><span>geodetic-radius</span></div></a></li><li class="depth-1"><a href="satellite-clj.coordinates.html#var-kepler-.3Erv"><div class="inner"><span>kepler-&gt;rv</span></div></a></li><li class="depth-1"><a href="satellite-clj.coordinates.html#var-kepler-.3Etle"><div class="inner"><span>kepler-&gt;tle</span></div></a></li><li class="depth-1"><a href="satellite-clj.coordinates.html#var-rv-.3Ekepler"><div class="inner"><span>rv-&gt;kepler</span></div></a></li><li class="depth-1"><a href="satellite-clj.coordinates.html#var-wrap-longitude"><div class="inner"><span>wrap-longitude</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">satellite-clj.coordinates</h2><div class="doc"><pre class="plaintext">Functions for working with coordinates and their transforms.
</pre></div><div class="public anchor" id="var-ecef-.3Eeci"><h3>ecef-&gt;eci</h3><div class="usage"><code>(ecef-&gt;eci [frame [x y z] t])</code></div><div class="doc"><pre class="plaintext">Convert Earth Centered Earth Fixed (ECEF) coordinates to Earth Centered
Intertial (ECI) coordinates, in kilometers for a given date.

Example:
  (def test-time #inst &quot;2006-09-26T00:00:00.000-00:00&quot;)

  (ecef-&gt;eci [6378.137 0 0] test-time)
    ;=&gt; [6354.52258010092 548.33782448099 0]</pre></div></div><div class="public anchor" id="var-ecef-.3Egeodetic"><h3>ecef-&gt;geodetic</h3><div class="usage"><code>(ecef-&gt;geodetic [frame [x y z]])</code></div><div class="doc"><pre class="plaintext">Convert Earth Centered Earth Fixed (ECEF) coordinates to geodetic
coordinates. Takes a vector containing the X, Y, and Z components of a
point&apos;s position relative to the Earth&apos;s center, and returns the latitude,
longitude, and altitude of the position vector in kilometers.

Example:
  (ecef-&gt;geo [6370 -2345 7546])
    ;=&gt; [48.14737988893906 -20.210269215157226 3783.4768939372952]
  (ecef-&gt;geo [1389.426 -4631.199 4145.635])
    ;=&gt; [40.799999018658866 -73.3000032521367 -4.937954572596936E-4]</pre></div></div><div class="public anchor" id="var-eci-.3Eecef"><h3>eci-&gt;ecef</h3><div class="usage"><code>(eci-&gt;ecef [frame [i j k] t])</code></div><div class="doc"><pre class="plaintext">Convert Earth Centered Inertial (ECI) coordinates to Earth Centered Earth
Fixed (ECEF) coordinates, in kilometers for a given date.

Example:
  (def test-time #inst &quot;2012-12-21T00:00:00.000-00:00&quot;)

  (eci-&gt;ecef [0 6378.137 0] test-time)
    ;=&gt; [6378.082623104259 -26.337114961469073 0]</pre></div></div><div class="public anchor" id="var-geodetic-.3Eecef"><h3>geodetic-&gt;ecef</h3><div class="usage"><code>(geodetic-&gt;ecef [frame [lat lon alt]])</code></div><div class="doc"><pre class="plaintext">Convert geodetic coordinates to Earth Centered Earth Fixed (ECEF) coordinates
in kilometers. Takes a vector containing the latitude, longitude, and
altitude of a point in degrees and kilometers. Returns the X, Y, and Z
components as a position vector.

Example:
  (geodetic-&gt;ecef [10 20 2])
    ;=&gt; [5904.880375850656 2149.2006937122637 1100.5958440906952]
  (geodetic-&gt;ecef [-45 85 402])
    ;=&gt; [418.50861199604446 4783.575324270843 -4771.605334902912]</pre></div></div><div class="public anchor" id="var-geodetic-radius"><h3>geodetic-radius</h3><div class="usage"><code>(geodetic-radius latitude)</code></div><div class="doc"><pre class="plaintext">Calculate the distance from the surface of the Earth, to the Earth&apos;s center
for a given latitude. Based on the WGS84 reference ellipsoid; result is
in kilometers.

Example:
  (geodetic-radius 0) ;=&gt; 6378.137
  (geodetic-radius -45) ;=&gt; 6367.489543863465
  (geodetic-radius 90) ;=&gt; 6356.752314245179</pre></div></div><div class="public anchor" id="var-kepler-.3Erv"><h3>kepler-&gt;rv</h3><div class="usage"><code>(kepler-&gt;rv [frame {:keys [a e i o w v]} t])</code></div><div class="doc"><pre class="plaintext">Convert Classical Keplerian Elements to position and velocity vectors. Takes
a hash-map containing the keys:

  :t - time at epoch (java.util.Date)
  :a - semi-major-axis (km)
  :e - eccentricity
  :i - inclination (degrees)
  :o - right ascension of the ascending node (degrees)
  :w - argument of perigee (degrees)
  :v - true anomaly (degrees)

Returns a list containing the position vector, in kilometers, the
velocity vector, in kilometers per second, and the time at epoch.

Example:
  (def kep {:t #inst &quot;2015-07-13T19:09:21.062-00:00&quot;,
            :a 8788.081767279667,
            :e 0.17121118195416893,
            :i 153.2492285182475,
            :o 255.27928533439618,
            :w 20.068139973005337,
            :v 28.44580498419213})
  (kepler-&gt;rv kep)
    ;=&gt; [(-6045.0 -3490.0000000000023 2499.999999999997)
    ;    (-3.4570000000000025 6.6179999999999986 2.5329999999999977)
    ;    #inst &quot;2015-07-13T19:09:21.062-00:00&quot;]</pre></div></div><div class="public anchor" id="var-kepler-.3Etle"><h3>kepler-&gt;tle</h3><div class="usage"><code>(kepler-&gt;tle [frame {:keys [a e i o w v]} t] &amp; args)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-rv-.3Ekepler"><h3>rv-&gt;kepler</h3><div class="usage"><code>(rv-&gt;kepler [frame {:keys [r v]} t])</code></div><div class="doc"><pre class="plaintext">Convert position and velocity vectors in Earth Centered Inertial (ECI)
coordinates, in kilometers and kilometers per second, to Classical Keplerian
Elements, for a given time. Returns a hash-map containing the following:

  :t - time at epoch (java.util.Date)
  :a - semi-major-axis (km)
  :e - eccentricity
  :i - inclination (degrees)
  :o - right ascension of the ascending node (degrees)
  :w - argument of perigee (degrees)
  :v - true anomaly (degrees)

Example:
  (def eci-position [8228 389 6888])
  (def eci-velocity [-0.7 6.6 -0.6])
  (def test-time #inst &quot;1999-09-09T15:30:00.000-00:00&quot;)

  (rv-&gt;kepler eci-position eci-velocity test-time)
  ;=&gt; {:t #inst &quot;1999-09-09T15:30:00.000-00:00&quot;,
  ;    :a 13360.642755150553,
  ;    :e 0.22049791761487267,
  ;    :i 39.93754927254844,
  ;    :o 269.85555147445865,
  ;    :w 125.72438209646339,
  ;    :v 326.46253404643056}</pre></div></div><div class="public anchor" id="var-wrap-longitude"><h3>wrap-longitude</h3><div class="usage"><code>(wrap-longitude longitude)</code></div><div class="doc"><pre class="plaintext">Convert a longitude to/from range [0 to 360] to [-180 to 180].

Example:
  (wrap-longitude 270) ;=&gt; -90
  (wrap-longitude -15) ;=&gt; 345</pre></div></div></div></body></html>