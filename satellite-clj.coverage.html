<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>satellite-clj.coverage documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Satellite-clj 0.0.1-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>satellite-clj</span></div></div></li><li class="depth-2 branch"><a href="satellite-clj.collision.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>collision</span></div></a></li><li class="depth-2 branch"><a href="satellite-clj.coordinates.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>coordinates</span></div></a></li><li class="depth-2 branch"><a href="satellite-clj.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch current"><a href="satellite-clj.coverage.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>coverage</span></div></a></li><li class="depth-2 branch"><a href="satellite-clj.ephemeris.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ephemeris</span></div></a></li><li class="depth-2 branch"><a href="satellite-clj.graphics.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>graphics</span></div></a></li><li class="depth-2 branch"><a href="satellite-clj.maneuver.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>maneuver</span></div></a></li><li class="depth-2 branch"><a href="satellite-clj.math.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>math</span></div></a></li><li class="depth-2 branch"><a href="satellite-clj.orbit.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>orbit</span></div></a></li><li class="depth-2 branch"><a href="satellite-clj.properties.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>properties</span></div></a></li><li class="depth-2 branch"><a href="satellite-clj.surface.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>surface</span></div></a></li><li class="depth-2"><a href="satellite-clj.time.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>time</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="satellite-clj.coverage.html#var-blank-matrix"><div class="inner"><span>blank-matrix</span></div></a></li><li class="depth-1"><a href="satellite-clj.coverage.html#var-coverage-matrix"><div class="inner"><span>coverage-matrix</span></div></a></li><li class="depth-1"><a href="satellite-clj.coverage.html#var-haversine"><div class="inner"><span>haversine</span></div></a></li><li class="depth-1"><a href="satellite-clj.coverage.html#var-horizon"><div class="inner"><span>horizon</span></div></a></li><li class="depth-1"><a href="satellite-clj.coverage.html#var-print-matrix"><div class="inner"><span>print-matrix</span></div></a></li><li class="depth-1"><a href="satellite-clj.coverage.html#var-view-fn"><div class="inner"><span>view-fn</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">satellite-clj.coverage</h2><div class="doc"><pre class="plaintext">Matrix generation functions for satellite coverage analysis. Operations work
primarily in radians.</pre></div><div class="public anchor" id="var-blank-matrix"><h3>blank-matrix</h3><div class="usage"><code>(blank-matrix y x)</code></div><div class="doc"><pre class="plaintext">Return an Java array containing y rows and x columns.

Example:
  (let [m (blank-matrix 5 10)]
    (vec (map vec m)))
  ;=&gt;[[0 0 0 0 0 0 0 0 0 0]
      [0 0 0 0 0 0 0 0 0 0]
      [0 0 0 0 0 0 0 0 0 0]
      [0 0 0 0 0 0 0 0 0 0]
      [0 0 0 0 0 0 0 0 0 0]]</pre></div></div><div class="public anchor" id="var-coverage-matrix"><h3>coverage-matrix</h3><div class="usage"><code>(coverage-matrix res coords)</code></div><div class="doc"><pre class="plaintext">Create a combined coverage matrix for a list of satellite coordinates, using
a given resolution; top left of the matrix is [90, -180]. Takes
two arguments:

  res - height of the output matrix (width= 2x res)
  coords - a nested list of satellite lat, lon, and alt in degrees and km

Example:
  (let [cm (coverage-matrix 10 [[0 0 35786] [-45 90 1200]])]
    (vec (map vec cm)))
  ;=&gt; [[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]
       [0 0 0 0 0 0 0 1 1 1 1 1 1 1 0 0 0 0 0 0]
       [0 0 0 0 0 0 1 1 1 1 1 1 1 1 1 0 0 0 0 0]
       [0 0 0 0 0 0 1 1 1 1 1 1 1 1 1 0 0 0 0 0]
       [0 0 0 0 0 0 1 1 1 1 1 1 1 1 1 0 0 0 0 0]
       [0 0 0 0 0 0 1 1 1 1 1 1 1 1 1 0 0 0 0 0]
       [0 0 0 0 0 0 1 1 1 1 1 1 1 1 2 1 1 0 0 0]
       [0 0 0 0 0 0 1 1 1 1 1 1 1 2 2 1 1 1 0 0]
       [0 0 0 0 0 0 1 1 1 1 1 1 1 2 2 1 1 1 0 0]
       [0 0 0 0 0 0 0 1 1 1 1 1 1 2 1 1 1 1 0 0]]</pre></div></div><div class="public anchor" id="var-haversine"><h3>haversine</h3><div class="usage"><code>(haversine phi-1 lam-1 phi-2 lam-2)</code></div><div class="doc"><pre class="plaintext">Calculate the angular distance, in radians, between two points on the
Earth&apos;s surface, also in radians.

  phi - latitude in radians
  lam - longitude in radians

Example:
  (haversine 0 1 1 0)
  ;=&gt; 1.2745557823062945</pre></div></div><div class="public anchor" id="var-horizon"><h3>horizon</h3><div class="usage"><code>(horizon alt)</code></div><div class="doc"><pre class="plaintext">Calculate the distance to horizon, in radians, for a satellite given its
altitude, in kilometers.

Example:
  (horizon 35786)
  ;=&gt; 1.4190895207111016</pre></div></div><div class="public anchor" id="var-print-matrix"><h3>print-matrix</h3><div class="usage"><code>(print-matrix m)</code></div><div class="doc"><pre class="plaintext">Print a coverage matrix to STDOUT; useful for debugging.

Example:
  (let [cm (coverage-matrix 10 [[0 0 35786] [-45 90 1200]])]
    (print-matrix cm))
  ;=&gt; 00000000000000000000
  ;=&gt; 00000001111111000000
  ;=&gt; 00000011111111100000
  ;=&gt; 00000011111111100000
  ;=&gt; 00000011111111100000
  ;=&gt; 00000011111111100000
  ;=&gt; 00000011111111211000
  ;=&gt; 00000011111112211100
  ;=&gt; 00000011111112211100
  ;=&gt; 00000001111112111100</pre></div></div><div class="public anchor" id="var-view-fn"><h3>view-fn</h3><div class="usage"><code>(view-fn lat lon alt)</code></div><div class="doc"><pre class="plaintext">Create a function to determine if a satellite is in view of a point on the
Earth&apos;s surface. Returns 1 if in view, otherwise 0. Takes 3 arguments:

  lat - latitude of the satellite, in degrees
  lon - longitude of the satellite, in degrees
  alt - altitude of the satellite, in kilometers

The returned function takes two arguments:

  p - latitude of the point on the Earth&apos;s surface, in radians
  l - longitude of the point on the Earth&apos;s surface, in radians

Example:
  (let [visible? (view-fn 10 25 35786)]
    (println (visible? 0 0))
    (println (visible? 0.7853981633974483 3.0543261909900767)))
  ;=&gt; 1
  ;=&gt; 0</pre></div></div></div></body></html>